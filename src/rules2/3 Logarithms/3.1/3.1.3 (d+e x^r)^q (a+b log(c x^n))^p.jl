file_rules = [
#(* ::Subsection::Closed:: *)
#(* 3.1.3 (d+e x^r)^q (a+b log(c x^n))^p *)
("3_1_3_1",
:(∫(((~d) + (~!e)*(~x)^(~!r))^(~!q)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n))),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~r), (~x)) &&
    igt((~q), 0) ?
∫(((~d) + (~e)*(~x)^(~r))^(~q), (~x))*((~a) + (~b)*log((~c)*(~x)^(~n))) - (~b)*(~n)*∫(_simplify(∫(((~d) + (~e)*(~x)^(~r))^(~q), (~x))⨸(~x), (~x)), (~x)) : nothing))

("3_1_3_2",
:(∫(((~d) + (~!e)*(~x)^(~!r))^(~!q)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n))),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~r), (~x)) &&
    igt((~q), 0) ?
dist(((~a) + (~b)*log((~c)*(~x)^(~n))), ∫(((~d) + (~e)*(~x)^(~r))^(~q), (~x))) - (~b)*(~n)*∫(_simplify(∫(((~d) + (~e)*(~x)^(~r))^(~q), (~x))⨸(~x), (~x)), (~x)) : nothing))

("3_1_3_3",
:(∫(((~d) + (~!e)*(~x)^(~!r))^(~q)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n))),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~q), (~r), (~x)) &&
    eq((~r)*((~q) + 1) + 1, 0) ?
(~x)*((~d) + (~e)*(~x)^(~r))^((~q) + 1)*((~a) + (~b)*log((~c)*(~x)^(~n)))⨸(~d) - (~b)*(~n)⨸(~d)*∫(((~d) + (~e)*(~x)^(~r))^((~q) + 1), (~x)) : nothing))

#(* Int[(a_.+b_.*Log[c_.*x_^n_.])^p_./(d_+e_.*x_^r_.),x_Symbol] := 1/e*Int[(a+b*Log[c*x^n])^p/x^r,x] - d/e*Int[(a+b*Log[c*x^n])^p/(x^r*(d+e*x^r)),x] /; FreeQ[{a,b,c,d,e,n,r},x] && IGtQ[p,0] && IGtQ[r,0] *)
("3_1_3_4",
:(∫(log((~!c)*(~x))/((~d) + (~!e)*(~x)),(~x)) ) => :(
    !contains_var((~c), (~d), (~e), (~x)) &&
    eq((~e) + (~c)*(~d), 0) ?
-1⨸(~e)*PolyLog_reli(2, 1 - (~c)*(~x)) : nothing))

("3_1_3_5",
:(∫(((~!a) + (~!b)*log((~!c)*(~x)))/((~d) + (~!e)*(~x)),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    gt(-(~c)*(~d)/(~e), 0) ?
((~a) + (~b)*log(-(~c)*(~d)⨸(~e)))*log((~d) + (~e)*(~x))⨸(~e) + (~b)*∫(log(-(~e)*(~x)⨸(~d))⨸((~d) + (~e)*(~x)), (~x)) : nothing))

("3_1_3_6",
:(∫(((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))^(~!p)/((~d) + (~!e)*(~x)),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~x)) &&
    igt((~p), 0) ?
log(1 + (~e)*(~x)⨸(~d))*((~a) + (~b)*log((~c)*(~x)^(~n)))^(~p)⨸(~e) - (~b)*(~n)*(~p)⨸(~e)*∫(log(1 + (~e)*(~x)⨸(~d))*((~a) + (~b)*log((~c)*(~x)^(~n)))^((~p) - 1)⨸(~x), (~x)) : nothing))

("3_1_3_7",
:(∫(((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))^(~!p)/((~d) + (~!e)*(~x))^2,(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~p), (~x)) &&
    gt((~p), 0) ?
(~x)*((~a) + (~b)*log((~c)*(~x)^(~n)))^(~p)⨸((~d)*((~d) + (~e)*(~x))) - (~b)*(~n)*(~p)⨸(~d)*∫(((~a) + (~b)*log((~c)*(~x)^(~n)))^((~p) - 1)⨸((~d) + (~e)*(~x)), (~x)) : nothing))

("3_1_3_8",
:(∫(((~d) + (~!e)*(~x))^(~!q)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))^(~!p),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~p), (~q), (~x)) &&
    gt((~p), 0) &&
    !eq((~q), -1) &&
    (
        eq((~p), 1) ||
        ext_isinteger(2*(~p), 2*(~q)) &&
        !(igt((~q), 0)) ||
        eq((~p), 2) &&
        !eq((~q), 1)
    ) ?
((~d) + (~e)*(~x))^((~q) + 1)*((~a) + (~b)*log((~c)*(~x)^(~n)))^(~p)⨸((~e)*((~q) + 1)) - (~b)*(~n)*(~p)⨸((~e)*((~q) + 1))* ∫((((~d) + (~e)*(~x))^((~q) + 1)*((~a) + (~b)*log((~c)*(~x)^(~n)))^((~p) - 1))⨸(~x), (~x)) : nothing))

("3_1_3_9",
:(∫(((~d) + (~!e)*(~x))^(~!q)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))^(~p),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~x)) &&
    lt((~p), -1) &&
    gt((~q), 0) ?
(~x)*((~d) + (~e)*(~x))^(~q)*((~a) + (~b)*log((~c)*(~x)^(~n)))^((~p) + 1)⨸((~b)*(~n)*((~p) + 1)) + (~d)*(~q)⨸((~b)*(~n)*((~p) + 1))* ∫(((~d) + (~e)*(~x))^((~q) - 1)*((~a) + (~b)*log((~c)*(~x)^(~n)))^((~p) + 1), (~x)) - ((~q) + 1)⨸((~b)*(~n)*((~p) + 1))* ∫(((~d) + (~e)*(~x))^(~q)*((~a) + (~b)*log((~c)*(~x)^(~n)))^((~p) + 1), (~x)) : nothing))

("3_1_3_10",
:(∫(((~d) + (~!e)*(~x)^2)^(~!q)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n))),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~x)) &&
    gt((~q), 0) ?
(~x)*((~d) + (~e)*(~x)^2)^(~q)*((~a) + (~b)*log((~c)*(~x)^(~n)))⨸(2*(~q) + 1) - (~b)*(~n)⨸(2*(~q) + 1)*∫(((~d) + (~e)*(~x)^2)^(~q), (~x)) + 2*(~d)*(~q)⨸(2*(~q) + 1)*∫(((~d) + (~e)*(~x)^2)^((~q) - 1)*((~a) + (~b)*log((~c)*(~x)^(~n))), (~x)) : nothing))

("3_1_3_11",
:(∫(((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))/((~d) + (~!e)*(~x)^2)^(3//2),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~x)) ?
(~x)*((~a) + (~b)*log((~c)*(~x)^(~n)))⨸((~d)*sqrt((~d) + (~e)*(~x)^2)) - (~b)*(~n)⨸(~d)*∫(1⨸sqrt((~d) + (~e)*(~x)^2), (~x)) : nothing))

("3_1_3_12",
:(∫(((~d) + (~!e)*(~x)^2)^(~q)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n))),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~x)) &&
    lt((~q), -1) ?
-(~x)*((~d) + (~e)*(~x)^2)^((~q) + 1)*((~a) + (~b)*log((~c)*(~x)^(~n)))⨸(2*(~d)*((~q) + 1)) + (~b)*(~n)⨸(2*(~d)*((~q) + 1))*∫(((~d) + (~e)*(~x)^2)^((~q) + 1), (~x)) + (2*(~q) + 3)⨸(2*(~d)*((~q) + 1))* ∫(((~d) + (~e)*(~x)^2)^((~q) + 1)*((~a) + (~b)*log((~c)*(~x)^(~n))), (~x)) : nothing))

("3_1_3_13",
:(∫(((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))/((~d) + (~!e)*(~x)^2),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~x)) ?
∫(1⨸((~d) + (~e)*(~x)^2), (~x))*((~a) + (~b)*log((~c)*(~x)^(~n))) - (~b)*(~n)*∫(∫(1⨸((~d) + (~e)*(~x)^2), (~x))⨸(~x), (~x)) : nothing))

("3_1_3_14",
:(∫(((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))/sqrt((~d) + (~!e)*(~x)^2),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~x)) &&
    gt((~d), 0) &&
    pos((~e)) ?
asinh(rt((~e), 2)*(~x)⨸sqrt((~d)))*((~a) + (~b)*log((~c)*(~x)^(~n)))⨸rt((~e), 2) - (~b)*(~n)⨸rt((~e), 2)*∫(asinh(rt((~e), 2)*(~x)⨸sqrt((~d)))⨸(~x), (~x)) : nothing))

("3_1_3_15",
:(∫(((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))/sqrt((~d) + (~!e)*(~x)^2),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~x)) &&
    gt((~d), 0) &&
    neg((~e)) ?
asin(rt(-(~e), 2)*(~x)⨸sqrt((~d)))*((~a) + (~b)*log((~c)*(~x)^(~n)))⨸rt(-(~e), 2) - (~b)*(~n)⨸rt(-(~e), 2)*∫(asin(rt(-(~e), 2)*(~x)⨸sqrt((~d)))⨸(~x), (~x)) : nothing))

("3_1_3_16",
:(∫(((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))/sqrt((~d) + (~!e)*(~x)^2),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~x)) &&
    !(gt((~d), 0)) ?
sqrt(1 + (~e)⨸(~d)*(~x)^2)⨸sqrt((~d) + (~e)*(~x)^2)* ∫(((~a) + (~b)*log((~c)*(~x)^(~n)))⨸sqrt(1 + (~e)⨸(~d)*(~x)^2), (~x)) : nothing))

("3_1_3_17",
:(∫(((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))/(sqrt((~d1) + (~!e1)*(~x))* sqrt((~d2) + (~!e2)*(~x))),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d1), (~e1), (~d2), (~e2), (~n), (~x)) &&
    eq((~d2)*(~e1) + (~d1)*(~e2), 0) ?
sqrt(1 + (~e1)*(~e2)⨸((~d1)*(~d2))*(~x)^2)⨸(sqrt((~d1) + (~e1)*(~x))*sqrt((~d2) + (~e2)*(~x)))* ∫(((~a) + (~b)*log((~c)*(~x)^(~n)))⨸sqrt(1 + (~e1)*(~e2)⨸((~d1)*(~d2))*(~x)^2), (~x)) : nothing))

("3_1_3_18",
:(∫(((~d) + (~!e)*(~x)^(~!r))^(~!q)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n))),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~q), (~r), (~x)) &&
    ext_isinteger(2*(~q)) &&
    ext_isinteger((~r)) &&
    eq((~r), 1) &&
    ext_isinteger((~q) - 1/2) ||
    eq((~r), 2) &&
    eq((~q), -1) ||
    !contains_inverse_function((~u), (~x)) ?
dist(((~a) + (~b)*log((~c)*(~x)^(~n))), ∫(((~d) + (~e)*(~x)^(~r))^(~q), (~x)), (~x)) - (~b)*(~n)*∫(_simplify(∫(((~d) + (~e)*(~x)^(~r))^(~q), (~x))⨸(~x), (~x)), (~x)) : nothing))

("3_1_3_19",
:(∫(((~d) + (~!e)*(~x)^(~!r))^(~!q)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))^(~!p),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~p), (~q), (~r), (~x)) &&
    ext_isinteger((~q)) &&
    (
        gt((~q), 0) ||
        igt((~p), 0) &&
        ext_isinteger((~r))
    ) &&
    issum(ext_expand(((~a) + (~b)*log((~c)*(~x)^(~n)))^(~p),(~x))) ?
∫(ext_expand(((~a) + (~b)*log((~c)*(~x)^(~n)))^(~p), ((~d) + (~e)*(~x)^(~r))^(~q), (~x)), (~x)) : nothing))

# ("3_1_3_20",
# @rule ∫(((~d) + (~!e)*(~x)^(~!r))^(~!q)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))^(~!p),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~p), (~q), (~r), (~x)) ?
# Unintegrable[((~d) + (~e)*(~x)^(~r))^(~q)*((~a) + (~b)*log((~c)*(~x)^(~n)))^(~p), (~x)] : nothing)
#
#
("3_1_3_21",
:(∫((~u)^(~!q)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))^(~!p),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~n), (~p), (~q), (~x)) &&
    isbinomial((~u), (~x)) &&
    !(binomial_without_simplify((~u), (~x))) ?
∫(expand_to_sum((~u), (~x))^(~q)*((~a) + (~b)*log((~c)*(~x)^(~n)))^(~p), (~x)) : nothing))


]
