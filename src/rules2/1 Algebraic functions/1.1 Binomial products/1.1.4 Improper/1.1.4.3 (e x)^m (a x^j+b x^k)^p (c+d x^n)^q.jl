file_rules = [
#(* ::Subsection::Closed:: *)
#(* 1.1.4.3 (e x)^m (a x^j+b x^k)^p (c+d x^n)^q *)
("1_1_4_3_1",
:(∫((~x)^(~!m)*((~!a)*(~x)^(~j) + (~!b)*(~x)^(~!k))^(~p)*((~c) + (~!d)*(~x)^(~n))^(~!q),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~j), (~k), (~m), (~n), (~p), (~q), (~x)) &&
    !(ext_isinteger((~p))) &&
    !eq((~k), (~j)) &&
    ext_isinteger(simplify((~j)/(~n))) &&
    ext_isinteger(simplify((~k)/(~n))) &&
    ext_isinteger(simplify(((~m) + 1)/(~n))) &&
    !eq((~n)^2, 1) ?
1⨸(~n)*int_and_subst((~x)^(simplify(((~m) + 1)⨸(~n)) - 1)*((~a)*(~x)^simplify((~j)⨸(~n)) + (~b)*(~x)^simplify((~k)⨸(~n)))^(~p)*((~c) + (~d)*(~x))^(~q),  (~x), (~x), (~x)^(~n), "1_1_4_3_1") : nothing))

("1_1_4_3_2",
:(∫(((~e)*(~x))^(~!m)*((~!a)*(~x)^(~j) + (~!b)*(~x)^(~!k))^(~p)*((~c) + (~!d)*(~x)^(~!n))^(~!q),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~j), (~k), (~m), (~n), (~p), (~q), (~x)) &&
    !(ext_isinteger((~p))) &&
    !eq((~k), (~j)) &&
    ext_isinteger(simplify((~j)/(~n))) &&
    ext_isinteger(simplify((~k)/(~n))) &&
    ext_isinteger(simplify(((~m) + 1)/(~n))) &&
    !eq((~n)^2, 1) ?
(~e)^intpart((~m))*((~e)*(~x))^fracpart((~m))⨸(~x)^fracpart((~m))* ∫((~x)^(~m)*((~a)*(~x)^(~j) + (~b)*(~x)^(~k))^(~p)*((~c) + (~d)*(~x)^(~n))^(~q), (~x)) : nothing))

("1_1_4_3_3",
:(∫(((~!e)*(~x))^(~!m)*((~!a)*(~x)^(~!j) + (~!b)*(~x)^(~!jn))^(~p)*((~c) + (~!d)*(~x)^(~!n)),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~j), (~m), (~n), (~p), (~x)) &&
    eq((~jn), (~j) + (~n)) &&
    !(ext_isinteger((~p))) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)*(~d)*((~m) + (~j)*(~p) + 1) - (~b)*(~c)*((~m) + (~n) + (~p)*((~j) + (~n)) + 1), 0) &&
    (
        gt((~e), 0) ||
        ext_isinteger((~j))
    ) &&
    !eq((~m) + (~j)*(~p) + 1, 0) ?
(~c)*(~e)^((~j) - 1)*((~e)*(~x))^((~m) - (~j) + 1)*((~a)*(~x)^(~j) + (~b)*(~x)^((~j) + (~n)))^((~p) + 1)⨸((~a)*((~m) + (~j)*(~p) + 1)) : nothing))

("1_1_4_3_4",
:(∫(((~!e)*(~x))^(~!m)*((~!a)*(~x)^(~!j) + (~!b)*(~x)^(~!jn))^(~p)*((~c) + (~!d)*(~x)^(~!n)),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~j), (~m), (~n), (~x)) &&
    eq((~jn), (~j) + (~n)) &&
    !(ext_isinteger((~p))) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    lt((~p), -1) &&
    gt((~j), 0) &&
    le((~j), (~m)) &&
    (
        gt((~e), 0) ||
        ext_isinteger((~j))
    ) ?
-(~e)^((~j) - 1)*((~b)*(~c) - (~a)*(~d))*((~e)*(~x))^((~m) - (~j) + 1)*((~a)*(~x)^(~j) + (~b)*(~x)^((~j) + (~n)))^((~p) + 1)⨸((~a)*(~b)* (~n)*((~p) + 1)) - (~e)^(~j)*((~a)*(~d)*((~m) + (~j)*(~p) + 1) - (~b)*(~c)*((~m) + (~n) + (~p)*((~j) + (~n)) + 1))⨸((~a)*(~b)* (~n)*((~p) + 1))* ∫(((~e)*(~x))^((~m) - (~j))*((~a)*(~x)^(~j) + (~b)*(~x)^((~j) + (~n)))^((~p) + 1), (~x)) : nothing))

("1_1_4_3_5",
:(∫(((~!e)*(~x))^(~!m)*((~!a)*(~x)^(~!j) + (~!b)*(~x)^(~!jn))^(~p)*((~c) + (~!d)*(~x)^(~!n)),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~j), (~p), (~x)) &&
    eq((~jn), (~j) + (~n)) &&
    !(ext_isinteger((~p))) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    gt((~n), 0) &&
    (
        lt((~m) + (~j)*(~p), -1) ||
        ext_isinteger((~m) - 1/2, (~p) - 1/2) &&
        lt((~p), 0) &&
        lt((~m), -(~n)*(~p) - 1)
    ) &&
    (
        gt((~e), 0) ||
        ext_isinteger((~j), (~n))
    ) &&
    !eq((~m) + (~j)*(~p) + 1, 0) &&
    !eq((~m) - (~n) + (~j)*(~p) + 1, 0) ?
(~c)*(~e)^((~j) - 1)*((~e)*(~x))^((~m) - (~j) + 1)*((~a)*(~x)^(~j) + (~b)*(~x)^((~j) + (~n)))^((~p) + 1)⨸((~a)*((~m) + (~j)*(~p) + 1)) + ((~a)*(~d)*((~m) + (~j)*(~p) + 1) - (~b)*(~c)*((~m) + (~n) + (~p)*((~j) + (~n)) + 1))⨸((~a)* (~e)^(~n)*((~m) + (~j)*(~p) + 1))* ∫(((~e)*(~x))^((~m) + (~n))*((~a)*(~x)^(~j) + (~b)*(~x)^((~j) + (~n)))^(~p), (~x)) : nothing))

("1_1_4_3_6",
:(∫(((~!e)*(~x))^(~!m)*((~!a)*(~x)^(~!j) + (~!b)*(~x)^(~!jn))^(~p)*((~c) + (~!d)*(~x)^(~!n)),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~j), (~m), (~n), (~p), (~x)) &&
    eq((~jn), (~j) + (~n)) &&
    !(ext_isinteger((~p))) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~m) + (~n) + (~p)*((~j) + (~n)) + 1, 0) &&
    (
        gt((~e), 0) ||
        ext_isinteger((~j))
    ) ?
(~d)*(~e)^((~j) - 1)*((~e)*(~x))^((~m) - (~j) + 1)*((~a)*(~x)^(~j) + (~b)*(~x)^((~j) + (~n)))^((~p) + 1)⨸((~b)*((~m) + (~n) + (~p)*((~j) + (~n)) + 1)) - ((~a)*(~d)*((~m) + (~j)*(~p) + 1) - (~b)*(~c)*((~m) + (~n) + (~p)*((~j) + (~n)) + 1))⨸((~b)*((~m) + (~n) + (~p)*((~j) + (~n)) + 1))* ∫(((~e)*(~x))^(~m)*((~a)*(~x)^(~j) + (~b)*(~x)^((~j) + (~n)))^(~p), (~x)) : nothing))

("1_1_4_3_7",
:(∫((~x)^(~!m)*((~!a)*(~x)^(~j) + (~!b)*(~x)^(~!k))^(~p)*((~c) + (~!d)*(~x)^(~!n))^(~!q),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~j), (~k), (~m), (~n), (~p), (~q), (~x)) &&
    !(ext_isinteger((~p))) &&
    !eq((~k), (~j)) &&
    ext_isinteger(simplify((~j)/(~n))) &&
    ext_isinteger(simplify((~k)/(~n))) &&
    !eq((~m), -1) &&
    ext_isinteger(simplify((~n)/((~m) + 1))) &&
    !(ext_isinteger((~n))) ?
1⨸((~m) + 1)* int_and_subst(((~a)*(~x)^simplify((~j)⨸((~m) + 1)) + (~b)*(~x)^simplify((~k)⨸((~m) + 1)))^ (~p)*((~c) + (~d)*(~x)^simplify((~n)⨸((~m) + 1)))^(~q),  (~x), (~x), (~x)^((~m) + 1), "1_1_4_3_7") : nothing))

("1_1_4_3_8",
:(∫(((~e)*(~x))^(~!m)*((~!a)*(~x)^(~j) + (~!b)*(~x)^(~!k))^(~p)*((~c) + (~!d)*(~x)^(~!n))^(~!q),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~j), (~k), (~m), (~n), (~p), (~q), (~x)) &&
    !(ext_isinteger((~p))) &&
    !eq((~k), (~j)) &&
    ext_isinteger(simplify((~j)/(~n))) &&
    ext_isinteger(simplify((~k)/(~n))) &&
    !eq((~m), -1) &&
    ext_isinteger(simplify((~n)/((~m) + 1))) &&
    !(ext_isinteger((~n))) ?
(~e)^intpart((~m))*((~e)*(~x))^fracpart((~m))⨸(~x)^fracpart((~m))* ∫((~x)^(~m)*((~a)*(~x)^(~j) + (~b)*(~x)^(~k))^(~p)*((~c) + (~d)*(~x)^(~n))^(~q), (~x)) : nothing))

("1_1_4_3_9",
:(∫(((~!e)*(~x))^(~!m)*((~!a)*(~x)^(~!j) + (~!b)*(~x)^(~!jn))^(~p)*((~c) + (~!d)*(~x)^(~!n))^(~!q),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~j), (~m), (~n), (~p), (~q), (~x)) &&
    eq((~jn), (~j) + (~n)) &&
    !(ext_isinteger((~p))) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !(
        eq((~n), 1) &&
        eq((~j), 1)
    ) ?
(~e)^intpart((~m))*((~e)*(~x))^fracpart((~m))*((~a)*(~x)^(~j) + (~b)*(~x)^((~j) + (~n)))^fracpart((~p))⨸ ((~x)^(fracpart((~m)) + (~j)*fracpart((~p)))*((~a) + (~b)*(~x)^(~n))^fracpart((~p)))* ∫((~x)^((~m) + (~j)*(~p))*((~a) + (~b)*(~x)^(~n))^(~p)*((~c) + (~d)*(~x)^(~n))^(~q), (~x)) : nothing))


]
