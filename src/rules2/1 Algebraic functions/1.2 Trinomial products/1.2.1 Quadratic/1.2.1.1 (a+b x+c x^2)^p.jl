file_rules = [
#(* ::Subsection::Closed:: *)
#(* 1.2.1.1 (a+b x+c x^2)^p *)
("1_2_1_1_1",
:(∫(((~a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~p),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~p), (~x)) &&
    eq((~b)^2 - 4*(~a)*(~c), 0) &&
    lt((~p), -1) ?
2*((~a) + (~b)*(~x) + (~c)*(~x)^2)^((~p) + 1)⨸((2*(~p) + 1)*((~b) + 2*(~c)*(~x))) : nothing))

("1_2_1_1_2",
:(∫(1/sqrt((~a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~x)) &&
    eq((~b)^2 - 4*(~a)*(~c), 0) ?
((~b)⨸2 + (~c)*(~x))⨸sqrt((~a) + (~b)*(~x) + (~c)*(~x)^2)*∫(1⨸((~b)⨸2 + (~c)*(~x)), (~x)) : nothing))

("1_2_1_1_3",
:(∫(((~a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~p),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~p), (~x)) &&
    eq((~b)^2 - 4*(~a)*(~c), 0) &&
    !eq((~p), -1/2) ?
((~b) + 2*(~c)*(~x))*((~a) + (~b)*(~x) + (~c)*(~x)^2)^(~p)⨸(2*(~c)*(2*(~p) + 1)) : nothing))

("1_2_1_1_4",
:(∫(((~a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~p),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~x)) &&
    !eq((~b)^2 - 4*(~a)*(~c), 0) &&
    igt((~p), 0) &&
    perfect_square((~b)^2 - 4*(~a)*(~c)) ?
1⨸(~c)^(~p)* ∫(simp((~b)⨸2 - rt((~b)^2 - 4*(~a)*(~c), 2)⨸2 + (~c)*(~x), (~x))^(~p)*simp((~b)⨸2 + rt((~b)^2 - 4*(~a)*(~c), 2)⨸2 + (~c)*(~x), (~x))^(~p), (~x)) : nothing))

("1_2_1_1_5",
:(∫(((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~p),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~x)) &&
    !eq((~b)^2 - 4*(~a)*(~c), 0) &&
    igt((~p), 0) &&
    (
        eq((~a), 0) ||
        !(perfect_square((~b)^2 - 4*(~a)*(~c)))
    ) ?
∫(ext_expand(((~a) + (~b)*(~x) + (~c)*(~x)^2)^(~p), (~x)), (~x)) : nothing))

("1_2_1_1_6",
:(∫(((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~p),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~x)) &&
    !eq((~b)^2 - 4*(~a)*(~c), 0) &&
    gt((~p), 0) &&
    ext_isinteger(4*(~p)) ?
((~b) + 2*(~c)*(~x))*((~a) + (~b)*(~x) + (~c)*(~x)^2)^(~p)⨸(2*(~c)*(2*(~p) + 1)) - (~p)*((~b)^2 - 4*(~a)*(~c))⨸(2*(~c)*(2*(~p) + 1))* ∫(((~a) + (~b)*(~x) + (~c)*(~x)^2)^((~p) - 1), (~x)) : nothing))

("1_2_1_1_7",
:(∫(1/((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(3//2),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~x)) &&
    !eq((~b)^2 - 4*(~a)*(~c), 0) ?
-2*((~b) + 2*(~c)*(~x))⨸(((~b)^2 - 4*(~a)*(~c))*sqrt((~a) + (~b)*(~x) + (~c)*(~x)^2)) : nothing))

("1_2_1_1_8",
:(∫(((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~p),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~x)) &&
    !eq((~b)^2 - 4*(~a)*(~c), 0) &&
    lt((~p), -1) &&
    !eq((~p), -3/2) &&
    ext_isinteger(4*(~p)) ?
((~b) + 2*(~c)*(~x))*((~a) + (~b)*(~x) + (~c)*(~x)^2)^((~p) + 1)⨸(((~p) + 1)*((~b)^2 - 4*(~a)*(~c))) - 2*(~c)*(2*(~p) + 3)⨸(((~p) + 1)*((~b)^2 - 4*(~a)*(~c)))* ∫(((~a) + (~b)*(~x) + (~c)*(~x)^2)^((~p) + 1), (~x)) : nothing))

("1_2_1_1_9",
:(∫(1/((~!b)*(~x) + (~!c)*(~x)^2),(~x)) ) => :(
    !contains_var((~b), (~c), (~x)) ?
log((~x))⨸(~b) - log((~b) + (~c)*(~x))⨸(~b) : nothing))

("1_2_1_1_10",
:(∫(1/((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~x)) &&
    !eq((~b)^2 - 4*(~a)*(~c), 0) &&
    pos((~b)^2 - 4*(~a)*(~c)) &&
    perfect_square((~b)^2 - 4*(~a)*(~c)) ?
(~c)⨸rt((~b)^2 - 4*(~a)*(~c), 2)*∫(1⨸simp((~b)⨸2 - rt((~b)^2 - 4*(~a)*(~c), 2)⨸2 + (~c)*(~x), (~x)), (~x)) - (~c)⨸rt((~b)^2 - 4*(~a)*(~c), 2)*∫(1⨸simp((~b)⨸2 + rt((~b)^2 - 4*(~a)*(~c), 2)⨸2 + (~c)*(~x), (~x)), (~x)) : nothing))

("1_2_1_1_11",
:(∫(1/((~a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~x)) &&
    !eq((~b)^2 - 4*(~a)*(~c), 0) &&
    isrational(1 - 4*_simplify((~a)*(~c)/(~b)^2)) &&
    (
        eq(1 - 4*_simplify((~a)*(~c)/(~b)^2)^2, 1) ||
        !(isrational((~b)^2 - 4*(~a)*(~c)))
    ) ?
-2⨸(~b)*int_and_subst(1⨸(1 - 4*_simplify((~a)*(~c)⨸(~b)^2) - (~x)^2),  (~x), (~x), 1 + 2*(~c)*(~x)⨸(~b), "1_2_1_1_11") : nothing))

("1_2_1_1_12",
:(∫(1/((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~x)) &&
    !eq((~b)^2 - 4*(~a)*(~c), 0) ?
-2*int_and_subst(1⨸simp((~b)^2 - 4*(~a)*(~c) - (~x)^2,  (~x)), (~x), (~x), (~b) + 2*(~c)*(~x), "1_2_1_1_12") : nothing))
# -2*_substitute(integrate(1⨸simp((~b)^2 - 4*(~a)*(~c) - (~x)^2,  (~x)), (~x)), (~x)=>(~b) + 2*(~c)*(~x)) : nothing)

("1_2_1_1_13",
:(∫(((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~p),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~p), (~x)) &&
    gt(4*(~a) - (~b)^2/(~c), 0) ?
1⨸(2*(~c)*(-4*(~c)⨸((~b)^2 - 4*(~a)*(~c)))^(~p))* int_and_subst(simp(1 - (~x)^2⨸((~b)^2 - 4*(~a)*(~c)),  (~x))^(~p), (~x), (~x), (~b) + 2*(~c)*(~x), "1_2_1_1_13") : nothing))

("1_2_1_1_14",
:(∫(1/sqrt((~!b)*(~x) + (~!c)*(~x)^2),(~x)) ) => :(
    !contains_var((~b), (~c), (~x)) ?
2*int_and_subst(1⨸(1 - (~c)*(~x)^2),  (~x), (~x), (~x)⨸sqrt((~b)*(~x) + (~c)*(~x)^2), "1_2_1_1_14") : nothing))

("1_2_1_1_15",
:(∫(1/sqrt((~a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~x)) &&
    !eq((~b)^2 - 4*(~a)*(~c), 0) ?
2*int_and_subst(1⨸(4*(~c) - (~x)^2),  (~x), (~x), ((~b) + 2*(~c)*(~x))⨸sqrt((~a) + (~b)*(~x) + (~c)*(~x)^2), "1_2_1_1_15") : nothing))

("1_2_1_1_16",
:(∫(((~!b)*(~x) + (~!c)*(~x)^2)^(~p),(~x)) ) => :(
    !contains_var((~b), (~c), (~x)) &&
    isrational((~p)) &&
    3 <= ext_den((~p)) <= 4 ?
((~b)*(~x) + (~c)*(~x)^2)^(~p)⨸(-(~c)*((~b)*(~x) + (~c)*(~x)^2)⨸((~b)^2))^(~p)* ∫((-(~c)*(~x)⨸(~b) - (~c)^2*(~x)^2⨸(~b)^2)^(~p), (~x)) : nothing))

#(* Int[(a_.+b_.*x_+c_.*x_^2)^p_,x_Symbol] := (a+b*x+c*x^2)^p/(-c*(a+b*x+c*x^2)/(b^2-4*a*c))^p*Int[(-a*c/(b^2-4*a* c)-b*c*x/(b^2-4*a*c)-c^2*x^2/(b^2-4*a*c))^p,x] /; FreeQ[{a,b,c},x] && NeQ[b^2-4*a*c,0] && RationalQ[p] &&  3<=Denominator[p]<=4 *)
("1_2_1_1_17",
:(∫(((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~p),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~x)) &&
    !eq((~b)^2 - 4*(~a)*(~c), 0) &&
    isrational((~p)) &&
    3 <= ext_den((~p)) <= 4 ?
ext_den((~p))*sqrt(((~b) + 2*(~c)*(~x))^2)⨸((~b) + 2*(~c)*(~x))* int_and_subst((~x)^(ext_den((~p))*((~p) + 1) - 1)⨸sqrt((~b)^2 - 4*(~a)*(~c) + 4*(~c)*(~x)^ext_den((~p))),  (~x), (~x), ((~a) + (~b)*(~x) + (~c)*(~x)^2)^(1⨸ext_den((~p))), "1_2_1_1_17") : nothing))

("1_2_1_1_18",
:(∫(((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~p),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~p), (~x)) &&
    !eq((~b)^2 - 4*(~a)*(~c), 0) &&
    !(ext_isinteger(4*(~p))) ?
-((~a) + (~b)*(~x) + (~c)*(~x)^2)^((~p) + 1)⨸(rt((~b)^2 - 4*(~a)*(~c), 2)*((~p) + 1)*((rt((~b)^2 - 4*(~a)*(~c), 2) - (~b) - 2*(~c)*(~x))⨸(2*rt((~b)^2 - 4*(~a)*(~c), 2)))^((~p) + 1))* hypergeometric2f1(-(~p), (~p) + 1, (~p) + 2, ((~b) + rt((~b)^2 - 4*(~a)*(~c), 2) + 2*(~c)*(~x))⨸(2*rt((~b)^2 - 4*(~a)*(~c), 2))) : nothing))

("1_2_1_1_19",
:(∫(((~!a) + (~!b)*(~u) + (~!c)*(~u)^2)^(~p),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~p), (~x)) &&
    linear((~u), (~x)) &&
    !eq((~u), (~x)) ?
1⨸ext_coeff((~u), (~x), 1)*int_and_subst(((~a) + (~b)*(~x) + (~c)*(~x)^2)^(~p),  (~x), (~x), (~u), "1_2_1_1_19") : nothing))


]
