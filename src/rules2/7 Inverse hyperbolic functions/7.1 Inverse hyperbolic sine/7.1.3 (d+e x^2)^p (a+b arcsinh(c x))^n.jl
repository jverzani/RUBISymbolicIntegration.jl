file_rules = [
#(* ::Subsection::Closed:: *)
#(* 7.1.3 (d+e x^2)^p (a+b arcsinh(c x))^n *)
#(* Int[(a_.+b_.*ArcSinh[c_.*x_])^n_./Sqrt[d_+e_.*x_^2],x_Symbol] := 1/c*Simp[Sqrt[1+c^2*x^2]/Sqrt[d+e*x^2]]*Subst[Int[(a+b*x)^n,x],x, ArcSinh[c*x]] /; FreeQ[{a,b,c,d,e,n},x] && EqQ[e,c^2*d] *)
("7_1_3_1",
:(∫(1/(sqrt((~d) + (~!e)*(~x)^2)*((~!a) + (~!b)*asinh((~!c)*(~x)))),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    eq((~e), (~c)^2*(~d)) ?
1⨸((~b)*(~c))*simp(sqrt(1 + (~c)^2*(~x)^2)⨸sqrt((~d) + (~e)*(~x)^2))* log((~a) + (~b)*asinh((~c)*(~x))) : nothing))

("7_1_3_2",
:(∫(((~!a) + (~!b)*asinh((~!c)*(~x)))^(~!n)/sqrt((~d) + (~!e)*(~x)^2),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~x)) &&
    eq((~e), (~c)^2*(~d)) &&
    !eq((~n), -1) ?
1⨸((~b)*(~c)*((~n) + 1))* simp(sqrt(1 + (~c)^2*(~x)^2)⨸ sqrt((~d) + (~e)*(~x)^2))*((~a) + (~b)*asinh((~c)*(~x)))^((~n) + 1) : nothing))

("7_1_3_3",
:(∫(((~d) + (~!e)*(~x)^2)^(~!p)*((~!a) + (~!b)*asinh((~!c)*(~x))),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    eq((~e), (~c)^2*(~d)) &&
    igt((~p), 0) ?
dist((~a) + (~b)*asinh((~c)*(~x)), ∫(((~d) + (~e)*(~x)^2)^(~p), (~x)), (~x)) - (~b)*(~c)*∫(ext_simplify(∫(((~d) + (~e)*(~x)^2)^(~p), (~x))⨸sqrt(1 + (~c)^2*(~x)^2), (~x)), (~x)) : nothing))

("7_1_3_4",
:(∫(sqrt((~d) + (~!e)*(~x)^2)*((~!a) + (~!b)*asinh((~!c)*(~x)))^(~!n),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    eq((~e), (~c)^2*(~d)) &&
    gt((~n), 0) ?
(~x)*sqrt((~d) + (~e)*(~x)^2)*((~a) + (~b)*asinh((~c)*(~x)))^(~n)⨸2 - (~b)*(~c)*(~n)⨸2*simp(sqrt((~d) + (~e)*(~x)^2)⨸sqrt(1 + (~c)^2*(~x)^2))* ∫((~x)*((~a) + (~b)*asinh((~c)*(~x)))^((~n) - 1), (~x)) + 1⨸2*simp(sqrt((~d) + (~e)*(~x)^2)⨸sqrt(1 + (~c)^2*(~x)^2))* ∫(((~a) + (~b)*asinh((~c)*(~x)))^(~n)⨸sqrt(1 + (~c)^2*(~x)^2), (~x)) : nothing))

("7_1_3_5",
:(∫(((~d) + (~!e)*(~x)^2)^(~!p)*((~!a) + (~!b)*asinh((~!c)*(~x)))^(~!n),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    eq((~e), (~c)^2*(~d)) &&
    gt((~n), 0) &&
    gt((~p), 0) ?
(~x)*((~d) + (~e)*(~x)^2)^(~p)*((~a) + (~b)*asinh((~c)*(~x)))^(~n)⨸(2*(~p) + 1) + 2*(~d)*(~p)⨸(2*(~p) + 1)* ∫(((~d) + (~e)*(~x)^2)^((~p) - 1)*((~a) + (~b)*asinh((~c)*(~x)))^(~n), (~x)) - (~b)*(~c)*(~n)⨸(2*(~p) + 1)*simp(((~d) + (~e)*(~x)^2)^(~p)⨸(1 + (~c)^2*(~x)^2)^(~p))* ∫((~x)*(1 + (~c)^2*(~x)^2)^((~p) - 1⨸2)*((~a) + (~b)*asinh((~c)*(~x)))^((~n) - 1), (~x)) : nothing))

("7_1_3_6",
:(∫(((~!a) + (~!b)*asinh((~!c)*(~x)))^(~!n)/((~d) + (~!e)*(~x)^2)^(3//2),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    eq((~e), (~c)^2*(~d)) &&
    gt((~n), 0) ?
(~x)*((~a) + (~b)*asinh((~c)*(~x)))^(~n)⨸((~d)*sqrt((~d) + (~e)*(~x)^2)) - (~b)*(~c)*(~n)⨸(~d)*simp(sqrt(1 + (~c)^2*(~x)^2)⨸sqrt((~d) + (~e)*(~x)^2))* ∫((~x)*((~a) + (~b)*asinh((~c)*(~x)))^((~n) - 1)⨸(1 + (~c)^2*(~x)^2), (~x)) : nothing))

("7_1_3_7",
:(∫(((~d) + (~!e)*(~x)^2)^(~p)*((~!a) + (~!b)*asinh((~!c)*(~x)))^(~!n),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    eq((~e), (~c)^2*(~d)) &&
    gt((~n), 0) &&
    lt((~p), -1) &&
    !eq((~p), -3/2) ?
-(~x)*((~d) + (~e)*(~x)^2)^((~p) + 1)*((~a) + (~b)*asinh((~c)*(~x)))^(~n)⨸(2*(~d)*((~p) + 1)) + (2*(~p) + 3)⨸(2*(~d)*((~p) + 1))* ∫(((~d) + (~e)*(~x)^2)^((~p) + 1)*((~a) + (~b)*asinh((~c)*(~x)))^(~n), (~x)) + (~b)*(~c)*(~n)⨸(2*((~p) + 1))*simp(((~d) + (~e)*(~x)^2)^(~p)⨸(1 + (~c)^2*(~x)^2)^(~p))* ∫((~x)*(1 + (~c)^2*(~x)^2)^((~p) + 1⨸2)*((~a) + (~b)*asinh((~c)*(~x)))^((~n) - 1), (~x)) : nothing))

("7_1_3_8",
:(∫(((~!a) + (~!b)*asinh((~!c)*(~x)))^(~!n)/((~d) + (~!e)*(~x)^2),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    eq((~e), (~c)^2*(~d)) &&
    igt((~n), 0) ?
1⨸((~c)*(~d))*int_and_subst(((~a) + (~b)*(~x))^(~n)*sech((~x)),  (~x), (~x), asinh((~c)*(~x)), "7_1_3_8") : nothing))

#(* Int[(d_+e_.*x_^2)^p_.*(a_.+b_.*ArcSinh[c_.*x_])^n_,x_Symbol] := d^p*(1+c^2*x^2)^(p+1/2)*(a+b*ArcSinh[c*x])^(n+1)/(b*c*(n+1)) - c*d^p*(2*p+1)/(b*(n+1))*Int[x*(1+c^2*x^2)^(p-1/2)*(a+b*ArcSinh[c*x]) ^(n+1),x] /; FreeQ[{a,b,c,d,e,p},x] && EqQ[e,c^2*d] && LtQ[n,-1] && (IntegerQ[p] ||  GtQ[d,0]) *)
("7_1_3_9",
:(∫(((~d) + (~!e)*(~x)^2)^(~!p)*((~!a) + (~!b)*asinh((~!c)*(~x)))^(~n),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~p), (~x)) &&
    eq((~e), (~c)^2*(~d)) &&
    lt((~n), -1) ?
simp(sqrt(1 + (~c)^2*(~x)^2)*((~d) + (~e)*(~x)^2)^ (~p))*((~a) + (~b)*asinh((~c)*(~x)))^((~n) + 1)⨸((~b)*(~c)*((~n) + 1)) - (~c)*(2*(~p) + 1)⨸((~b)*((~n) + 1))*simp(((~d) + (~e)*(~x)^2)^(~p)⨸(1 + (~c)^2*(~x)^2)^(~p))* ∫((~x)*(1 + (~c)^2*(~x)^2)^((~p) - 1⨸2)*((~a) + (~b)*asinh((~c)*(~x)))^((~n) + 1), (~x)) : nothing))

("7_1_3_10",
:(∫(((~d) + (~!e)*(~x)^2)^(~!p)*((~!a) + (~!b)*asinh((~!c)*(~x)))^(~!n),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~x)) &&
    eq((~e), (~c)^2*(~d)) &&
    igt(2*(~p), 0) ?
1⨸((~b)*(~c))*simp(((~d) + (~e)*(~x)^2)^(~p)⨸(1 + (~c)^2*(~x)^2)^(~p))* int_and_subst((~x)^(~n)*cosh(-(~a)⨸(~b) + (~x)⨸(~b))^(2*(~p) + 1),  (~x), (~x), (~a) + (~b)*asinh((~c)*(~x)), "7_1_3_10") : nothing))

("7_1_3_11",
:(∫(((~d) + (~!e)*(~x)^2)^(~!p)*((~!a) + (~!b)*asinh((~!c)*(~x))),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    !eq((~e), (~c)^2*(~d)) &&
    (
        igt((~p), 0) ||
        ilt((~p) + 1/2, 0)
    ) ?
dist((~a) + (~b)*asinh((~c)*(~x)), ∫(((~d) + (~e)*(~x)^2)^(~p), (~x)), (~x)) - (~b)*(~c)*∫(ext_simplify(∫(((~d) + (~e)*(~x)^2)^(~p), (~x))⨸sqrt(1 + (~c)^2*(~x)^2), (~x)), (~x)) : nothing))

("7_1_3_12",
:(∫(((~d) + (~!e)*(~x)^2)^(~!p)*((~!a) + (~!b)*asinh((~!c)*(~x)))^(~!n),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~x)) &&
    !eq((~e), (~c)^2*(~d)) &&
    ext_isinteger((~p)) &&
    (
        (~p) > 0 ||
        igt((~n), 0)
    ) ?
∫(ext_expand(((~a) + (~b)*asinh((~c)*(~x)))^(~n), ((~d) + (~e)*(~x)^2)^(~p), (~x)), (~x)) : nothing))

# ("7_1_3_13",
# @rule ∫(((~d) + (~!e)*(~x)^2)^(~!p)*((~!a) + (~!b)*asinh((~!c)*(~x)))^(~!n),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~d), (~e), (~n), (~p), (~x)) ?
# Unintegrable[((~d) + (~e)*(~x)^2)^(~p)*((~a) + (~b)*asinh((~c)*(~x)))^(~n), (~x)] : nothing)

("7_1_3_14",
:(∫(((~d) + (~!e)*(~x))^(~p)*((~f) + (~!g)*(~x))^(~q)*((~!a) + (~!b)*asinh((~!c)*(~x)))^(~!n),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~g), (~n), (~x)) &&
    eq((~e)*(~f) + (~d)*(~g), 0) &&
    eq((~c)^2*(~d)^2 + (~e)^2, 0) &&
    half_integer((~p), (~q)) &&
    ge((~p) - (~q), 0) &&
    gt((~d), 0) &&
    lt((~g)/(~e), 0) ?
(-(~d)^2*(~g)⨸(~e))^(~q)* ∫(((~d) + (~e)*(~x))^((~p) - (~q))*(1 + (~c)^2*(~x)^2)^(~q)*((~a) + (~b)*asinh((~c)*(~x)))^(~n), (~x)) : nothing))

("7_1_3_15",
:(∫(((~d) + (~!e)*(~x))^(~p)*((~f) + (~!g)*(~x))^(~q)*((~!a) + (~!b)*asinh((~!c)*(~x)))^(~!n),(~x)) ) => :(
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~g), (~n), (~x)) &&
    eq((~e)*(~f) + (~d)*(~g), 0) &&
    eq((~c)^2*(~d)^2 + (~e)^2, 0) &&
    half_integer((~p), (~q)) &&
    ge((~p) - (~q), 0) ?
((~d) + (~e)*(~x))^(~q)*((~f) + (~g)*(~x))^(~q)⨸(1 + (~c)^2*(~x)^2)^(~q)* ∫(((~d) + (~e)*(~x))^((~p) - (~q))*(1 + (~c)^2*(~x)^2)^(~q)*((~a) + (~b)*asinh((~c)*(~x)))^(~n), (~x)) : nothing))


]
